
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorate="layout">

<body>
<div class="admin-content-body" layout:fragment="content"  id="container">
    <div id="main" style="width: 100%;height:93%;">
        <div style="padding: 15px 25px ">
            <el-breadcrumb separator="/">
                <el-breadcrumb-item >首页</el-breadcrumb-item>
                <el-breadcrumb-item>避雷器</el-breadcrumb-item>
                <el-breadcrumb-item>故障监测</el-breadcrumb-item>
                <el-breadcrumb-item>服务器故障</el-breadcrumb-item>
            </el-breadcrumb>
        </div>
        <div class="col-lg-12 col-md-12 table-wrap" >
            <!--工具条-->
            <el-col :span="24" class="toolbar" style="padding-bottom: 0px;">

                <el-form :inline="true" >
                    <el-form-item>
                        <el-button type="primary" @click="latestMetric">查询</el-button>
                    </el-form-item>
                    <el-form-item>
                        <el-tag  v-if="serverfailure" type="danger">服务器异常</el-tag>
                        <el-tag  v-if="!serverfailure" type="success">服务器正常</el-tag>
                    </el-form-item>

                </el-form>
            </el-col>


        </div>

    </div>
</div>
<th:block layout:fragment="script">
    <script src="//cdn.bootcss.com/lodash.js/4.17.4/lodash.min.js"></script>

    <script type="text/javascript"  th:inline="javascript">
        var v=new Vue({
            el:"#main",
            mounted:function(){
                this.latestMetric();
            },

            methods:{

                showDangerFlag:function (time) {
                    return time>new Date();
                },

                latestMetric:function( ){

                    var that=this;
                    that.listLoading=true;
                    axios.get("/bileiqi/sensor/forecast/serverfailure/data").then(function(resp){
                        that.serverfailure=resp.data;
                    })
                }
            },

            data:function(){
                return{
                    serverfailure:false

                }
            }
        })
    </script>

</th:block>
</body>
</html>